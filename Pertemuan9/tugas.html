<!-- 
    Nama : Inda Khoirun Nisak
    Kelas : TI-3B
    Absen : 08
    Nim : 2041720020 
-->

<!Doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>React Uncover</title>
        <style>
            #root{
                display: flex;
                justify-content: center;
            }
            div {
                text-align: center;
            }
            img{
                box-shadow: 0px 0px 20px 0px black;
                margin:  10px;
            }
            figcaption{
                text-align: center;
                background-color: gainsboro;
                font-size: 1.5em;
                padding: 10px 20px;
                margin: 15px 0;
                box-shadow: 12px 12px 0px black;
            }
        </style>
    </head>
    <body>
        <div id="root"></div>
        <script src="../Pertemuan5/js/react.development.js"></script>
        <script src="../Pertemuan5/js/react-dom.development.js"></script>
        <script src="../Pertemuan5/js/babel.js"></script>
        <script type="text/babel">
            const Buku = (props) => {
                const handleTukarBukuBaru = () => {
                    props.onTukarBuku({
                        judul : "Caraval",
                        penulis : "Stephanie Garber",
                        pasFoto : "book1.png"
                    })
                }
                    return(
                        <React.Fragment>
                            <button onClick={handleTukarBukuBaru}>Tukar Buku</button>

                            <figure>
                            <img 
                                src={"img/" + props.buku.pasFoto} 
                                alt={props.buku.judul}
                            />    
                            <figcaption>
                                {props.buku.judul} ({props.buku.penulis})    
                            </figcaption>
                        </figure>
                        </React.Fragment>
                        
                    )
                
            }
            // class MyApp extends React.Component{
            //     constructor(){
            //         super()
            //         state = {
            //             judul : "Legendary",
            //             penulis : "Stephanie Garber",
            //             pasFoto : "book2.png"
            //         };
            //     }
            //     handleTukarBuku = (bukuBaru) => {
            //         setState({
            //             judul : bukuBaru.judul,
            //             penulis : bukuBaru.penulis,
            //             pasFoto : bukuBaru.pasFoto
            //         })
            //     }
            //     render(){
            //         return(
            //             <div>
            //                 <Buku 
            //                     buku = {state} 
            //                     onTukarBuku={handleTukarBuku}
            //                 />
            //             </div>
            //         )
            //     }
            
            const MyApp = () => {
                
                const [state, setState] = React.useState({
                    judul : "Legendary",
                    penulis : "Stephanie Garber",
                    pasFoto : "book2.png"
                });
                
                const handleTukarBuku = (bukuBaru) => {
                    setState({
                        judul : bukuBaru.judul,
                        penulis : bukuBaru.penulis,
                        pasFoto : bukuBaru.pasFoto
                    })
                }
                    return(
                        <div>
                            <Buku 
                                buku = {state} 
                                onTukarBuku={handleTukarBuku}
                            />
                        </div>
                    )
                
            }    
	        ReactDOM.createRoot(document.getElementById('root')).render(<MyApp />);
        </script>
    </body>
</html>
